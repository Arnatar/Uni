% Commands

\newcommand{\authorinfo}{Tim Dobert, Kai Sonnenwald, Arne Struck}
\newcommand{\titleinfo}{GDB [HA] zum 14. 11. 2013}
\newcommand{\qed}{\ \square}

% ------------------------------------------------------

% Packages & Stuff
\documentclass[a4paper,11pt,fleqn]{scrartcl}
\usepackage[german,ngerman]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[top=1.3in, bottom=1.2in, left=0.9in, right=0.9in]{geometry}
\usepackage{lmodern}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{enumerate}
\usepackage{tikz}
\usepackage{fancyhdr}
\usepackage{pgfplots}
\usepackage{multicol}
\usepackage{vsis-gdb}
\usepackage[parfill]{parskip}
\usetikzlibrary{calc,patterns,arrows,positioning,calc,fit,shapes}


% ------------------------------------------------------

% Title & Pages

\title{\titleinfo}
\author{\authorinfo}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\authorinfo}
\fancyhead[R]{\titleinfo}
\fancyfoot[C]{\thepage}

\begin{document}
    \maketitle
	\begin{enumerate}
		\item[\textbf{1.:}]
		\begin{enumerate}
		\item[(a)] \quad \\
			\begin{tikzpicture}

				\node[entity] (e1) {E1};
				\node[attribut] (e1-a1) [above left =5mm and 4mm of e1.north] {\underline{A1}} edge (e1);
				\node[attribut] (e1-a2)  [above right=5mm and 4mm of e1.north] {A2} edge (e1);
				\node[multivalentattribut] (e1-a3)  [right=5mm of e1] {A3} edge (e1);

				\node[entity] (e2) [below left =1cm and 1mm of e1.south] {E1} edge [erbt] (e1);
				\node[entity] (e3)      [below right=1cm and 1mm of e1.south] {E3} edge [erbt] (e1);
				\node[entity] (e4) [right =7cm of e3] {E4};

				\node[weakentity] (e5) [below =3cm of e3] {E5};
				\node[attribut] (e5-a1)  [right=5mm of e5] {\dashuline{A1}} edge (e5);

				\node[relationship] (r1) [right=2cm of e3] {R1};
				\path (r1) edge node[at end,anchor=north west] {$[0;2]$} (e3);
				\path (r1) edge node[at end,anchor=north east] {$[7;9]$} (e4);


				\node[weakrelationship] (r2) [below=1cm of e3] {R2};
				\path (r2) edge node[at end,anchor=north west] {$1$} (e3);
				\path (r2) edge node[at end,anchor=south east] {$8$} (e5);

			\end{tikzpicture} \\
		
		\item[(b)]
			\begin{itemize}
				\item Ein Film kann nicht ohne Budget produziert werden.
				\item Ein Schauspieler kann nur in Filmen mitspielen, deren erster Drehtag nach seinem Geburtstag war.
			\end{itemize} \quad
		\end{enumerate}

	\item[\textbf{2.:}]
	\begin{enumerate}
		\item[(a)]
			\begin{itemize}
				\item Ein Student besitzt eine eindeutige Matrikelnummer und einen Namen.
				\item Ein Studiengang besitzt einen eindeutigen Namen.
				\item Ein Student ist in genau einem Studiengang immatrikuliert.
				\item In einem Studiengang können n Studenten immatrikuliert sein.
			\end{itemize} \quad

		\item[(b)]
			\begin{itemize}
				\item Eine Universität besitzt einen eindeutigen Namen.
				\item Ein Hörsaal besitzt einen eindeutigen Namen und eine Platzzahl.
				\item Eine Universität hat beliebig viele, aber mindestens einen Hörsaal.
				\item Ein Hörsaal existiert nur als Teil der Universität und gehört auch nur zu einer Universität.
			\end{itemize} \quad

		\item[(c)]
			\begin{itemize}
				\item Ein Auftrag besitzt eine eindeutige ANR und ein Datum.
				\item Ein Ersatzteil ist eindeutig identifiziert über seinen Namen und das Automodell, zudem hat es einen Preis.
				\item Ein Reparaturtyp von eindeutiger Art und hat einen Festpreis.
				\item Eine Reparatur findet an einem bestimmten Datum zu einer bestimmten Zeit statt.
				\item Eine Reparatur kann beliebig viele Aufträge umfassen.
				\item Für eine Reparatur können beliebig viele Ersatzteile benötigt werden.
				\item Eine Reparatur kann zu beliebig vielen Reparaturtypen gehören.
			\end{itemize} \quad

		\item[(d)]
			\begin{itemize}
				\item In einem Stadion finden beliebig viele Fußballspiele statt.
				\item Ein Schiedsrichter leitet beliebig viele Fußballspiele.
				\item Eine Mannschaft spielt beliebig viele Fußballspiele gegen eine andere Mannschaft.
			\end{itemize} \quad 
	\end{enumerate}

	\item[\textbf{3.:}]
	\begin{enumerate}
		\item[(a)]
			\begin{itemize}
				\item Eindeutigkeit: Es darf keine zwei Datensätze mit dem gleichen Schlüssel geben.
				\item Minimalität: Der Schlüssel der Tabelle besteht aus so wenigen Attributen wie möglich. Wenn es in einer 
				Attributkombination die Möglichkeitgibt, auch mit weniger Attributen aus dieser Kombination einen eindeutigen 
				Schlüssel zu bieten, ist diese nicht minimal.
				\item Beispiele in diesem Kontext:
				\begin{enumerate}
					\item Telefonnummer
					\item (Nachname, Geburtsdatum)
				\end{enumerate}
			\end{itemize}
			Die Attributkombination (Vorname, Haus-Nr.) ist kein Schlüsselkandidat, denn sie ist nicht eindeutig. Es würde 2 
			Datensätze einem identischen Schlüssel geben. \\ 

		\item[(b)]
			Bei größeren Datenmengen wird es immer schwieriger einen eindeutigen Schlüsselkandidaten zu finden der möglichst 
			minimal ist. Je mehr Datensätze vorhanden sind, desto größer ist die Wahrscheinlichkeit, dass viele Attribute zur 
			eindeutigen Identifizierung eines einzelnen Datensatz benötigt werden. Und je mehr Attribute nötig sind, desto mehr 
			Rechenaufwand wird für die Schlüsselverwaltung gebraucht. Damit wird es ineffizient. Zur Lösung bietet sich die 
			Einführung eines ID-Feldes an, das nie null gesetzt werden darf und in dem einfach ein Integerwert hochgezählt wird 
			für jeden neuen Datensatz. 	
		\end{enumerate}	
	\end{enumerate}
\end{document}